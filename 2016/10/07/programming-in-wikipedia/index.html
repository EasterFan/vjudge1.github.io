<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>维基百科编程笔记</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="最近维基百科严重上瘾，除了写条目和搞破坏，还写了一点脚本。像我这种电脑高级中手，有了心得之后，在自己博客上随便写点什么算了，不往百科用户页里面写了。维基百科内有很详细的文档，而且高手非常多，不会的话可以问他们。">
<meta name="keywords" content="JavaScript,维基百科,API">
<meta property="og:type" content="article">
<meta property="og:title" content="维基百科编程笔记">
<meta property="og:url" content="https://vjudge1.github.io/2016/10/07/programming-in-wikipedia/index.html">
<meta property="og:site_name" content="⑨rz">
<meta property="og:description" content="最近维基百科严重上瘾，除了写条目和搞破坏，还写了一点脚本。像我这种电脑高级中手，有了心得之后，在自己博客上随便写点什么算了，不往百科用户页里面写了。维基百科内有很详细的文档，而且高手非常多，不会的话可以问他们。">
<meta property="og:updated_time" content="2017-05-17T14:44:15.683Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="维基百科编程笔记">
<meta name="twitter:description" content="最近维基百科严重上瘾，除了写条目和搞破坏，还写了一点脚本。像我这种电脑高级中手，有了心得之后，在自己博客上随便写点什么算了，不往百科用户页里面写了。维基百科内有很详细的文档，而且高手非常多，不会的话可以问他们。">
  
    
    <link rel="alternate" href="/feed.xml" title="⑨rz" type="application/atom+xml">
  
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" integrity="sha384-XdYbMnZ/QjLh6iI4ogqCTaIjrFk87ip+ekIjefZch0Y+PvJ8CDYtEs1ipDmPorQ+" crossorigin="anonymous">

  <link rel="stylesheet" href="/css/styles.css">
  

</head>

<body>
    <nav class="navbar navbar-inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="main-menu-navbar">
      <ul class="nav navbar-nav">
        
          <li class="">
            <a href="/index.html">Home</a>
          </li>
        
          <li class="">
            <a href="/archives/">Archives</a>
          </li>
        
      </ul>

      <!--
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      -->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

    
    
    <div class="jumbotron">
        <div class="container">
            <h1 class="post-title" id="post-title">
                <a href="/" title="Back to home">
                    维基百科编程笔记
                </a>
            </h1>
            <div class="article-meta">
                <div class="article-datetime">
    <span class="article-date">
        <time datetime="2016-10-06T16:00:00.000Z" itemprop="datePublished">2016-10-07</time>
    </span>
</div>

                
                
    <div class="article-category">
        <a class="article-category-link" href="/categories/教程/">教程</a>
    </div>


                
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/API/">API</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/维基百科/">维基百科</a></li></ul>


            </div>
        </div>
    </div>


    <div class="container">
        <div class="row">
            <div class="col-sm-9 blog-main">
                <article id="post-programming-in-wikipedia" class="article article-type-post" itemscope itemprop="blogPost">

    

    <div class="article-inner">
        <div class="article-entry" itemprop="articleBody">
            
                <p>最近维基百科严重上瘾，除了写条目和<a href="https://zh.wikipedia.org/wiki/Wikipedia:%E7%A0%B4%E5%9D%8F" target="_blank" rel="external">搞破坏</a>，还写了一点脚本。像我这种<a href="https://wiki.esu.moe/曹国祥" target="_blank" rel="external">电脑高级中手</a>，有了心得之后，在自己博客上随便写点什么算了，不往百科用户页里面写了。维基百科内有很详细的文档，而且高手非常多，不会的话可以问他们。</p>
<a id="more"></a>
<div class="bs-callout bs-callout-info">
                <h4 id="更新日志"><a href="#更新日志" class="headerlink" title="更新日志"></a>更新日志</h4><ul>
<li>2016年11月21日：把“机器人”一节补完。</li>
<li>2017年5月17日：修缮一下内容。</li>
</ul>

            </div>
<p>维基百科基于MediaWiki系统，这个系统提供了很多API，所以在维基百科编程（例如写点小工具等）其实很容易。当然，不要拿去搞破坏，否则会让一群认真狂魔给封禁。</p>
<p>为了体验编程的乐趣，必须要注册账号。注册满七天和50次编辑即可变为自动确认用户。如果想刷编辑次数的话，记住，做正经编辑，或者至少不要在正经场合捣乱和冲刷“最近编辑”，否则也会遭到封禁。</p>
<p>如果想测试需要管理员权限的脚本，而且自己不是管理员或者不想/不能在维基站内测试，可以考虑去<a href="https://zh.wikipedia.beta.wmflabs.org" target="_blank" rel="external">Beta站</a>（到<a href="(https://phabricator.wikimedia.org">Phabricator</a>)申请权限）或<a href="https://publictestwiki.com" target="_blank" rel="external">PublicTestWiki</a>（在站内申请权限）测试。</p>
<p>下面假设自己的用户名叫做Example。</p>
<h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h1><p>自己的JavaScript脚本必须放在<code>User:Example/</code>下面。如果想每次打开一个页面都自动执行的话，请把代码放到<code>User:Example/common.js</code>中——在维基百科不需要<a href="https://zh.wikipedia.org/zh/Greasemonkey" target="_blank" rel="external">油猴</a>插件。</p>
<h2 id="引用其他脚本"><a href="#引用其他脚本" class="headerlink" title="引用其他脚本"></a>引用其他脚本</h2><p>新接触JS的维基用户往往是为了导入一些实用的小工具。可以用以下两种代码来加载代码：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// 加载某个URL的脚本。注意像GitHub的Raw那样强行要求text/plain的网址是无效的。</span></div><div class="line">mw.loader.load(<span class="string">'https://wikiplus-app.smartgslb.com/Main.js'</span>);</div><div class="line"><span class="comment">// 加载某个用户（包括自己）的脚本</span></div><div class="line"><span class="comment">// 虽然有 importScript 函数，但那个是中文维基自己搞的。</span></div><div class="line">mw.loader.load(<span class="string">'https://zh.wikipedia.org/w/index.php?title=User:逆襲的天邪鬼/js/link-ts.js&amp;action=raw&amp;ctype=text/javascript'</span>);</div><div class="line"><span class="comment">// 加载某个 CSS</span></div><div class="line">mw.loader.load(<span class="string">'https://zh.wikipedia.org/w/index.php?title=User:逆襲的天邪鬼/common.css&amp;action=raw&amp;ctype=text/css'</span>, <span class="string">'text/css'</span>);</div></pre></td></tr></table></figure>
<p>mw.loader.load 不会监控脚本加载状态。如果需要监控脚本加载情况，可以用 $.getScript()。</p>
<h2 id="开始编程"><a href="#开始编程" class="headerlink" title="开始编程"></a>开始编程</h2><p>只要会JavaScript，只要不对别人产生不良影响，怎么写都行。</p>
<p>调试脚本是件很麻烦的事情。可以在浏览器的控制台中测试，也可以一边修改页面一边测试。建议在自己电脑的编辑器上面写，写得差不多再提交到维基百科中运行。</p>
<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><p>目前维基百科自带 jQuery，版本1.11.3，拿去用就行了。维基百科还提供了 jQuery UI 等组件，可以通过类似<code>mw.loader.using(&#39;jquery.ui.dialog&#39;);</code>的代码来加载。mw.loader.using 函数返回一个 Promise。</p>
<p>MediaWiki 提供了大量 API，可以轻松地获取页面信息、更改页面内容等。所有 JavaScript API 都在<code>mw</code>之中，而API都通过<code>https://zh.wikipedia.org/w/api.php</code>调用，详细内容可以见<a href="https://doc.wikimedia.org/mediawiki-core/master/js/#!/api/mw-property-config" target="_blank" rel="external">JS 参考手册</a>和<a href="https://www.mediawiki.org/wiki/API:Main_page/zh" target="_blank" rel="external">API 参考</a>。另外维基百科也提供了一个<a href="https://zh.wikipedia.org/wiki/Special:ApiSandbox" target="_blank" rel="external">API 沙盒</a>以便查看详情和测试。</p>
<p>除了传统的 API，维基百科也提供了 RESTful 的 API，详见<a href="https://zh.wikipedia.org/api/rest_v1/" target="_blank" rel="external">文档</a>。</p>
<p>举一些例子：</p>
<h3 id="获取当前页面完整名称"><a href="#获取当前页面完整名称" class="headerlink" title="获取当前页面完整名称"></a>获取当前页面完整名称</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> name = mw.config.get(<span class="string">'wgPageName'</span>);</div></pre></td></tr></table></figure>
<h3 id="在“查看历史”右面添加一个菜单"><a href="#在“查看历史”右面添加一个菜单" class="headerlink" title="在“查看历史”右面添加一个菜单"></a>在“查看历史”右面添加一个菜单</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> node = mw.util.addPortletLink(<span class="string">'p-cactions'</span>, <span class="string">'#'</span>, <span class="string">'Hello'</span>);</div><div class="line">$(node).click(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    e.preventDefault();</div><div class="line">    alert(<span class="string">'Hello world!'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="获取某页面内容（客户端）"><a href="#获取某页面内容（客户端）" class="headerlink" title="获取某页面内容（客户端）"></a>获取某页面内容（客户端）</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">query</span>(<span class="params">pageName</span>) </span>&#123;</div><div class="line">    $.ajax(&#123;</div><div class="line">        <span class="attr">url</span>: mw.util.wikiScript(<span class="string">'api'</span>),</div><div class="line">        <span class="attr">data</span>: &#123;</div><div class="line">            <span class="attr">action</span>: <span class="string">'query'</span>,</div><div class="line">            <span class="attr">prop</span>: <span class="string">'revisions'</span>,</div><div class="line">            <span class="attr">rvprop</span>: <span class="string">'content'</span>,</div><div class="line">            <span class="attr">titles</span>: pageName,           <span class="comment">// 多个页面用“|”分隔</span></div><div class="line">            redirects: <span class="literal">true</span>,            <span class="comment">// 解析重定向</span></div><div class="line">            converttitles: <span class="literal">true</span>,        <span class="comment">// 自动处理简繁转换。仅限中文维基。</span></div><div class="line">            format: <span class="string">'json'</span></div><div class="line">        &#125;,</div><div class="line">        <span class="attr">dataType</span>: <span class="string">'json'</span>,</div><div class="line">        <span class="attr">type</span>: <span class="string">'POST'</span>,</div><div class="line">        <span class="attr">success</span>: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</div><div class="line">            <span class="keyword">if</span> (data.query) &#123;</div><div class="line">                <span class="keyword">var</span> pages = data.query.pages;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> pageid <span class="keyword">in</span> pages) &#123;</div><div class="line">                    <span class="keyword">var</span> page = pages[pageid];</div><div class="line">                    <span class="keyword">if</span> (<span class="string">'missing'</span> <span class="keyword">in</span> page) &#123;</div><div class="line">                        alert(<span class="string">'页面'</span> + page.title + <span class="string">'不存在'</span>);</div><div class="line">                    &#125; <span class="keyword">else</span> &#123;</div><div class="line">                        alert(<span class="string">'页面'</span> + page.title + <span class="string">'的内容是：\n'</span> + page.revisions[<span class="number">0</span>][<span class="string">'*'</span>]);</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">error</span>: <span class="function"><span class="keyword">function</span> (<span class="params">xhr</span>) </span>&#123;</div><div class="line">            alert(<span class="string">'请求失败'</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>query 功能其实非常多，这里只列出了一个最简单的。实际上你还可以拿它查页面历史等。</p>
<h3 id="改写某页面内容（客户端）"><a href="#改写某页面内容（客户端）" class="headerlink" title="改写某页面内容（客户端）"></a>改写某页面内容（客户端）</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">edit</span>(<span class="params">pageName, text, summary</span>) </span>&#123;</div><div class="line">    $.ajax(&#123;</div><div class="line">        <span class="attr">url</span>: mw.util.wikiScript(<span class="string">'api'</span>),</div><div class="line">        <span class="attr">data</span>: &#123;</div><div class="line">            <span class="attr">format</span>: <span class="string">'json'</span>,</div><div class="line">            <span class="attr">action</span>: <span class="string">'edit'</span>,</div><div class="line">            <span class="attr">title</span>: pageName,        <span class="comment">// 页面名称</span></div><div class="line">            summary: summary,       <span class="comment">// 编辑摘要</span></div><div class="line">            text: text,             <span class="comment">// 页面内容</span></div><div class="line">            redirect: <span class="literal">true</span>,         <span class="comment">// 自动处理重定向</span></div><div class="line">            token: mw.user.tokens.get(<span class="string">'editToken'</span>)</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">dataType</span>: <span class="string">'json'</span>,</div><div class="line">        <span class="attr">type</span>: <span class="string">'POST'</span>,</div><div class="line">        <span class="attr">success</span>: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</div><div class="line">            <span class="keyword">if</span> (data &amp;&amp; data.edit &amp;&amp; data.edit.result === <span class="string">'Success'</span>) &#123;</div><div class="line">                alert(<span class="string">'成功'</span>);</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data &amp;&amp; data.edit &amp;&amp; data.edit.result === <span class="string">'Failure'</span>) &#123;</div><div class="line">                <span class="keyword">if</span> (data.edit.captcha) &#123;</div><div class="line">                    alert(<span class="string">'需要验证码，id='</span> + data.edit.captcha.id + <span class="string">'，url='</span> + data.edit.captcha.url);</div><div class="line">                    <span class="comment">// 这时需要人工识别验证码，在下次提交时需要加入captchaword（验证码内容）和captchaid（上面的id）两个参数。</span></div><div class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data.edit.code === <span class="string">'abusefilter-warning'</span>) &#123;</div><div class="line">                    alert(<span class="string">'被防滥用过滤器警告'</span>);</div><div class="line">                    <span class="comment">// 如果确定自己的编辑没有问题，再提交一次即可。</span></div><div class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data.edit.code === <span class="string">'abusefilter-disallowed'</span>) &#123;</div><div class="line">                    alert(<span class="string">'被防滥用过滤器阻止'</span>);</div><div class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data.edit.spamblacklist) &#123;</div><div class="line">                    alert(<span class="string">'被垃圾过滤器阻止'</span>);</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    alert(<span class="string">'未知错误'</span>);</div><div class="line">                &#125;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data &amp;&amp; data.error) &#123;</div><div class="line">                <span class="keyword">if</span> (data.error.code === <span class="string">'protectedpage'</span>) &#123;</div><div class="line">                    alert(<span class="string">'页面被保护'</span>);</div><div class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data.error.code === <span class="string">'blocked'</span>) &#123;</div><div class="line">                    alert(<span class="string">'你已遭到封禁'</span>);</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    alert(<span class="string">'错误'</span> + data.error.code + <span class="string">'：'</span> + data.error.info);</div><div class="line">                &#125;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                alert(<span class="string">'未知错误'</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">error</span>: <span class="function"><span class="keyword">function</span>(<span class="params"> xhr </span>) </span>&#123;</div><div class="line">            alert(<span class="string">'请求失败'</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>关于详细参数、错误码等信息，可见<a href="https://www.mediawiki.org/wiki/API:Edit" target="_blank" rel="external">API:Edit</a>。</p>
<p>大量编辑时尽量控制频率。在中文维基百科，尽量不要超过 3 次/分钟。</p>
<div style="display: none;"><br>如果页面被保护，那么data.error.code会返回“protectedpage”。<br><br>如果是新用户触发了验证码（所以建议先把自己刷到自动确认用户，免得麻烦），那么会返回：<br><br><figure class="highlight json"><table><tr><td class="code"><pre><div class="line">&#123;<span class="attr">"edit"</span>:&#123;<span class="attr">"captcha"</span>:&#123;<span class="attr">"type"</span>:<span class="string">"image"</span>,<span class="attr">"mime"</span>:<span class="string">"image/png"</span>,<span class="attr">"id"</span>:<span class="string">"1027249016"</span>,<span class="attr">"url"</span>:<span class="string">"/w/index.php?title=Special:%E9%AA%8C%E8%AF%81%E7%A0%81/image&amp;wpCaptchaId=1027249016"</span>&#125;,<span class="attr">"result"</span>:<span class="string">"Failure"</span>&#125;&#125;</div></pre></td></tr></table></figure><br><br>这时需要人工识别验证码，在下次提交时加入 captchaword（验证码内容）和 captchaid（上面的id）两个参数。<br><br>如果因触发防滥用过滤器而收到警告，那么编辑会失败，然后 data 会返回和下面类似的字符串：<br><br><figure class="highlight json"><table><tr><td class="code"><pre><div class="line">&#123;<span class="attr">"edit"</span>:&#123;<span class="attr">"code"</span>:<span class="string">"abusefilter-warning"</span>,<span class="attr">"message"</span>:&#123;<span class="attr">"key"</span>:<span class="string">"abusefilter-warning"</span>,<span class="attr">"params"</span>:[<span class="string">"编辑其他用户的用户页"</span>,<span class="number">27</span>]&#125;,<span class="attr">"abusefilter"</span>:&#123;<span class="attr">"id"</span>:<span class="number">27</span>,<span class="attr">"description"</span>:<span class="string">"编辑其他用户的用户页"</span>,<span class="attr">"actions"</span>:[<span class="string">"warn"</span>]&#125;,<span class="attr">"info"</span>:<span class="string">"Hit AbuseFilter: 编辑其他用户的用户页"</span>,<span class="attr">"warning"</span>:<span class="string">"&lt;b&gt;警告：&lt;/b&gt;此操作已被自动识别为有害……"</span>,<span class="attr">"result"</span>:<span class="string">"Failure"</span>&#125;&#125;</div></pre></td></tr></table></figure><br><br>重新提交一次即可。<br><br>如果被防滥用过滤器阻止，那么 data 会返回：<br><br><figure class="highlight json"><table><tr><td class="code"><pre><div class="line">&#123;<span class="attr">"edit"</span>:&#123;<span class="attr">"code"</span>:<span class="string">"abusefilter-disallowed"</span>,<span class="attr">"message"</span>:&#123;<span class="attr">"key"</span>:<span class="string">"abusefilter-disallowed"</span>,<span class="attr">"params"</span>:[<span class="string">"移除所有分类（新用户）"</span>,<span class="number">28</span>]&#125;,<span class="attr">"abusefilter"</span>:&#123;<span class="attr">"id"</span>:<span class="number">28</span>,<span class="attr">"description"</span>:<span class="string">"移除所有分类（新用户）"</span>,<span class="attr">"actions"</span>:[<span class="string">"disallow"</span>]&#125;,<span class="attr">"info"</span>:<span class="string">"Hit AbuseFilter: 移除所有分类（新用户）"</span>,<span class="attr">"warning"</span>:<span class="string">"&lt;table...&gt;...&lt;/table&gt;\n"</span>,<span class="attr">"result"</span>:<span class="string">"Failure"</span>&#125;&#125;</div></pre></td></tr></table></figure><br><br>如果被垃圾过滤器阻止（例如插入 t.cn 短网址），那么会返回：<br><br><figure class="highlight json"><table><tr><td class="code"><pre><div class="line">&#123;<span class="attr">"edit"</span>:&#123;<span class="attr">"spamblacklist"</span>:<span class="string">"t.cn"</span>,<span class="attr">"result"</span>:<span class="string">"Failure"</span>&#125;&#125;</div></pre></td></tr></table></figure><br><br></div>

<h1 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h1><p>维基百科上面的<a href="https://zh.wikipedia.org/wiki/Help:%E6%A8%A1%E6%9D%BF" target="_blank" rel="external">Help:模板</a>和<a href="https://zh.wikipedia.org/wiki/Help:%E8%A7%A3%E6%9E%90%E5%99%A8%E5%87%BD%E6%95%B0" target="_blank" rel="external">Help:解析器函数</a>已经讲得很详细了。如果不想看长篇大论，下面是简化版：</p>
<p>&#123;&#123;&#123;1&#125;&#125;&#125;就是套用模板时的第一个参数，&#123;&#123;&#123;1&#124;默认值&#125;&#125;&#125;会指定一个默认值。假如模板叫 Template:a，内容是“&#123;&#123;&#123;1&#125;&#125;&#125;，&#123;&#123;&#123;2&#124;默认值&#125;&#125;&#125;”，那么&#123;&#123;a&#125;&#125;会返回“，默认值”，&#123;&#123;a&#124;123&#124;456&#125;&#125;会返回“123，456”。</p>
<p>解析器函数包括 expr、if、ifeq、ifexist、ifexpr、switch、time、language、babel、invoke 等。大致用法如下：</p>
<table>
<thead>
<tr>
<th>代码</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#123;&#123; #expr: 1+1 &#125;&#125;</td>
<td>2</td>
</tr>
<tr>
<td>&#123;&#123; #if: 字符串 &#124; 它是空白 &#124; 它不是空白 &#125;&#125;</td>
<td>它不是空白</td>
</tr>
<tr>
<td>&#123;&#123; #ifeq: 字符串 &#124; 字符串2 &#124; 相等 &#124; 不等 &#125;&#125;</td>
<td>不等</td>
</tr>
<tr>
<td>&#123;&#123; #ifexist: Wikipedia:首页 &#124; 存在 &#124; 不存在 &#125;&#125;</td>
<td>存在</td>
</tr>
<tr>
<td>&#123;&#123; #ifexpr: 1+1 &#124; 不等于0 &#124; 等于0 &#125;&#125;</td>
<td>不等于0</td>
</tr>
<tr>
<td>&#123;&#123; #switch: 3 &#124; 1=a &#124; 2=b &#124; 3=c &#124; #default=4 &#125;&#125;</td>
<td>c</td>
</tr>
<tr>
<td>&#123;&#123; #invoke:String &#124; replace &#124; abc &#124; a &#124; b &#125;&#125;</td>
<td>bbc</td>
</tr>
</tbody>
</table>
<p>其中 invoke 涉及 lua 编程。</p>
<p>再给一条建议：设计复杂模板时一点一点来，而且先把缩进和代码排版弄好。</p>
<h1 id="lua"><a href="#lua" class="headerlink" title="lua"></a>lua</h1><p>如果模板非常复杂，那么可以改用 lua 脚本来生成。MediaWiki 上面有一个非常详细的<a href="https://www.mediawiki.org/wiki/Extension:Scribunto/Lua_reference_manual" target="_blank" rel="external">入门教程</a>，即使没学过 lua 可以借助这个教程从零开始。</p>
<p>在维基百科，lua脚本页面必须以“Module:”（“模块:”）开头。如果想建立测试脚本，则通常使用“Module:沙盒”。</p>
<p>调试模块之前，可以找个沙盒页面把 invoke 写好，然后在编辑代码时预览那个页面。</p>
<h2 id="基本格式"><a href="#基本格式" class="headerlink" title="基本格式"></a>基本格式</h2><p>脚本需要返回一个 table，所有对外公开的函数都需要放到那个 table 里。函数只有一个参数，frame，它是把&#123;&#123;#invoke:&#125;&#125;后面参数等信息包装好之后的东西。</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><div class="line">f = &#123;&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f.fun</span><span class="params">(frame)</span></span></div><div class="line">    ...</div><div class="line">    <span class="comment">-- error('报错')</span></div><div class="line">    <span class="keyword">return</span> <span class="string">'字符串'</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="keyword">return</span> f</div></pre></td></tr></table></figure>
<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><p>假如脚本位于<code>Module:沙盒/Example</code>，函数叫 fun，维基文本是&#123;&#123;#invoke:沙盒/Example &#124; fun &#124; aaaaa &#124; info=bbbb&#125;&#125;，那么可以用以下方法获取参数：</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><div class="line"><span class="keyword">local</span> text = frame.args[<span class="number">1</span>]</div><div class="line"><span class="keyword">local</span> info = frame.args.info</div></pre></td></tr></table></figure>
<p>获取某个页面的内容（注意，模板会被展开）：</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><div class="line"><span class="keyword">local</span> content = mw.title.new(<span class="string">'Wikipedia:首页'</span>):getContent()</div></pre></td></tr></table></figure>
<p>使用别的模块：</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><div class="line"><span class="keyword">local</span> f = <span class="built_in">require</span>(<span class="string">'Module:沙盒/Example/其他模块'</span>)</div><div class="line">f.fun()</div></pre></td></tr></table></figure>
<h1 id="机器人"><a href="#机器人" class="headerlink" title="机器人"></a>机器人</h1><p>详细内容可以见<a href="https://zh.wikipedia.org/wiki/Wikipedia:%E8%A3%BD%E4%BD%9C%E6%A9%9F%E5%99%A8%E4%BA%BA" target="_blank" rel="external">Wikipedia:制作机器人</a>。</p>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>机器人的原理和脚本基本一样，也是通过 MediaWiki 提供的 API 进行编辑。不过，各计划通常会要求机器人使用专门账号并且在经过批准之后才投入运作。维基百科要求自动化程序必须使用自己的 User-Agent，没有 User-Agent 或者伪装成浏览器（然后让管理员发现）会导致 500。</p>
<p>机器人在运行之前需要登录，而且访问API的脚本需要保存Cookie，否则无法保持登录状态。你可以用账号本身的密码进行登录，也可以选择最安全的 OAuth，不过大家通常都用<a href="https://zh.wikipedia.org/wiki/Special:BotPasswords" target="_blank" rel="external">机器人密码</a>，因为 OAuth 需要额外申请。</p>
<p>以使用<a href="https://github.com/request/request" target="_blank" rel="external">request</a>库的Node.js代码为例：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> request = <span class="built_in">require</span>(<span class="string">'request'</span>).defaults(&#123;<span class="attr">jar</span>: <span class="literal">true</span>&#125;);</div><div class="line">request.post(&#123;</div><div class="line">    <span class="attr">url</span>: url,</div><div class="line">    <span class="attr">headers</span>: &#123;</div><div class="line">        <span class="string">'User-Agent'</span>: USERAGENT</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">form</span>: &#123;</div><div class="line">        <span class="attr">action</span>: <span class="string">'query'</span>,</div><div class="line">        <span class="attr">meta</span>: <span class="string">'tokens'</span>,</div><div class="line">        <span class="attr">type</span>: <span class="string">'login'</span>,</div><div class="line">        <span class="attr">format</span>: <span class="string">'json'</span></div><div class="line">    &#125;</div><div class="line">&#125;, <span class="function"><span class="keyword">function</span> (<span class="params">error, response, body</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (!error &amp;&amp; response.statusCode === <span class="number">200</span>) &#123;</div><div class="line">        <span class="keyword">var</span> token = <span class="built_in">JSON</span>.parse(body).query.tokens.logintoken;</div><div class="line"></div><div class="line">        request.post(&#123;</div><div class="line">            <span class="attr">url</span>: url,</div><div class="line">            <span class="attr">headers</span>: &#123;</div><div class="line">                <span class="string">'User-Agent'</span>: USERAGENT</div><div class="line">            &#125;,</div><div class="line">            <span class="attr">form</span>: &#123;</div><div class="line">                <span class="attr">action</span>: <span class="string">'login'</span>,</div><div class="line">                <span class="attr">lgname</span>: <span class="string">'用户名'</span>,       <span class="comment">// 如果使用机器人密码，那么用户名中含有“@”号。</span></div><div class="line">                lgpassword: <span class="string">'密码'</span>,</div><div class="line">                <span class="attr">lgtoken</span>: token,</div><div class="line">                <span class="attr">format</span>: <span class="string">'json'</span></div><div class="line">            &#125;</div><div class="line">        &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">error, response, body</span>) </span>&#123;</div><div class="line">            <span class="keyword">if</span> (!error &amp;&amp; response.statusCode === <span class="number">200</span>) &#123;</div><div class="line">                <span class="keyword">var</span> result = <span class="built_in">JSON</span>.parse(body).login.result;</div><div class="line">                <span class="keyword">if</span> (result === <span class="string">'Success'</span>) &#123;</div><div class="line">                    <span class="comment">// 登录成功</span></div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    <span class="comment">// 登录失败，例如用户不存在、密码错误等，详见</span></div><div class="line">                    <span class="comment">// https://www.mediawiki.org/wiki/API:Login#The_login_action</span></div><div class="line">                &#125;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="comment">// 错误</span></div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="comment">// 错误</span></div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>有些机器人的作者公开了源代码，例如<a href="https://zh.wikipedia.org/wiki/User:Cewbot" target="_blank" rel="external">Cewbot</a>（Node.js）、<a href="https://zh.wikipedia.org/wiki/User:Antigng-bot" target="_blank" rel="external">Antigng-bot</a>（C 语言orz）等，可以前去膜拜一下。另外，在 Tool Labs 上运行的机器人必须使用采用自由软件许可的项目。</p>
<h2 id="Tool-Labs"><a href="#Tool-Labs" class="headerlink" title="Tool Labs"></a>Tool Labs</h2><p>维基媒体基金会提供了一个免费空间，大家可以在上面进行架网站、跑机器人等活动。只需要到 <a href="https://wikitech.wikimedia.org/wiki/Main_Page" target="_blank" rel="external">Wikitech</a>注册一个账户，然后申请 shell 权限。审核通过后你就可以把自己的 SSH 公钥加入到 Wikitech 的系统设置中并登录。服务器为 login.tools.wmflabs.org 和 dev.tools.wmflabs.org（如果需要编译等操作请用这个）。</p>
<p>Tool Labs 的规矩比较多，所以在实际操作之前应该仔细阅读各项说明文件，以免意外翻车。</p>
<p>Labs 各软件配置：</p>
<table>
<thead>
<tr>
<th>软件</th>
<th>版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>系统</td>
<td>Ubuntu 14.04.4</td>
</tr>
<tr>
<td>Linux</td>
<td>3.13.0</td>
</tr>
<tr>
<td>Python</td>
<td>2.7.6 / 3.4.3</td>
</tr>
<tr>
<td>Ruby</td>
<td>1.9.3</td>
</tr>
<tr>
<td>PHP</td>
<td>5.5.9</td>
</tr>
<tr>
<td>Node.js</td>
<td>0.10.25</td>
</tr>
<tr>
<td>Perl</td>
<td>5.18.2</td>
</tr>
</tbody>
</table>
<p>如果想跑任务（网站、机器人等），那么你需要<a href="http://tools.wmflabs.org/" target="_blank" rel="external">到这个地方</a>建立一个工具账户。常驻型程序必须通过工具用户（在 shell 中通过<code>become XXX</code>登录）和 jsub/jstart 命令执行，例如：</p>
<pre><code>jstart -N myjob -cwd -l release=trusty -mem 512m python job.py
</code></pre><p>用 jsub 跑 Node.js 时记得给内存分大一点，否则肯定会挂。</p>
<p>不要以为 Labs 自带的 Node.js 版本很旧——维基大佬 <a href="https://zh.wikipedia.org/wiki/User:Kanashimi" target="_blank" rel="external">Kanashimi</a>在<code>/shared/bin/node</code>放了一个最新版的 node。</p>
<p>因为大家都在同一个主机上面登录，所以你需要注意保护密码等敏感信息。可以把密码写到一个专门的文件中，让程序读这个文件，而且 chmod o-r。</p>
<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><p>如果未经批准，可以利用自己的用户页进行测试，或者到 <a href="https://test2.wikipedia.org" target="_blank" rel="external">test2wiki</a>进行测试。有条件的话也可以自行架设 Wiki，这样就不会对其他人造成负面影响了。</p>
<p>测试时应当控制频率，以免冲刷“最近修改”。即使已经获得 bot flag 也应该稍微控制一下频率——你总不希望系统管理员以为你在 DoS 然后把你屏蔽吧？</p>

            
        </div>

        
            

        

        <footer class="article-footer">
            <a data-url="https://vjudge1.github.io/2016/10/07/programming-in-wikipedia/" data-id="cj2t3mrvg002jg5cmz2kkd688" class="article-share-link">
                <i class="fa fa-share"></i> Share
            </a>
            
                <a href="https://vjudge1.github.io/2016/10/07/programming-in-wikipedia/#disqus_thread" class="article-comment-link">
                    <i class="fa fa-comment"></i> Comments
                </a>
            
        </footer>
    </div>
    
        
    <table id="article-nav">
        
            <tr role="presentation">
                <th>Newer post</th>
                <td>
                    <a href="/2016/10/08/macports/" id="article-nav-newer" class="article-nav-link-wrap">
                        <span class="article-nav-link-title">MacPorts的安装与使用</span>
                    </a>
                </td>
            </tr>
        
        
            <tr role="presentation">
                <th>Older post</th>
                <td>
                    <a href="/2016/10/04/gae/" id="article-nav-older" class="article-nav-link-wrap">

                        <span class="article-nav-link-title">Google App Engine入门（Python）</span>
                    </a>
                </td>
            </tr>
        
    </table>


    
</article>


<section id="comments">
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
</section>


<script src="/js/anchor.min.js"></script>
<script type="text/javascript">
// Anchor.js
if (anchors) {
    anchors.options.placement="left";
    anchors.add('.article-entry h1,h2,h3,h4');
}
</script>

            </div>
            <div class="col-sm-3 blog-sidebar">
                
    
  <div class="sidebar-module">
    <h4><i class="fa fa-th-list"></i> Categories</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/个人心得/">个人心得</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/其他/">其他</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/备忘录/">备忘录</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/折腾记录/">折腾记录</a><span class="sidebar-module-list-count">8</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/教程/">教程</a><span class="sidebar-module-list-count">11</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/经验总结/">经验总结</a><span class="sidebar-module-list-count">7</span></li></ul>
  </div>



    
  <div class="sidebar-module">
    <h4><i class="fa fa-archive"></i> Archives</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/05/">五月 2017</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/12/">十二月 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/11/">十一月 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/10/">十月 2016</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/08/">八月 2016</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/04/">四月 2016</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/03/">三月 2016</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2016/01/">一月 2016</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/12/">十二月 2015</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/11/">十一月 2015</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/09/">九月 2015</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/08/">八月 2015</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/07/">七月 2015</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/05/">五月 2015</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/04/">四月 2015</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2015/02/">二月 2015</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2014/12/">十二月 2014</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2014/04/">四月 2014</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2014/02/">二月 2014</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2013/01/">一月 2013</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2012/08/">八月 2012</a><span class="sidebar-module-list-count">1</span></li></ul>
  </div>



    
  <div class="sidebar-module">
    <h4><i class="fa fa-send-o"></i> Recents</h4>
    <ul class="sidebar-module-list">
      
        <li>
          <a href="/2017/05/13/change-to-hexo/">换成 Hexo</a>
        </li>
      
        <li>
          <a href="/2016/12/16/javascript-extend/">JavaScript继承小结</a>
        </li>
      
        <li>
          <a href="/2016/11/08/move-to-archlinux/">换成Arch Linux系统的一些记录</a>
        </li>
      
        <li>
          <a href="/2016/10/08/macports/">MacPorts的安装与使用</a>
        </li>
      
        <li>
          <a href="/2016/10/07/programming-in-wikipedia/">维基百科编程笔记</a>
        </li>
      
    </ul>
  </div>



    
  <div class="sidebar-module">
    <h4><i class="fa fa-tags"></i> Tags</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/API/">API</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Atom/">Atom</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/C/">C</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/C/">C#</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/GAE/">GAE</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/GUI/">GUI</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Hackintosh/">Hackintosh</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Hexo/">Hexo</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Java/">Java</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/JavaScript/">JavaScript</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Jekyll/">Jekyll</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/LaTeX/">LaTeX</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Linux/">Linux</a><span class="sidebar-module-list-count">9</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Mac/">Mac</a><span class="sidebar-module-list-count">9</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/MacPorts/">MacPorts</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/NTFS/">NTFS</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Python/">Python</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/QQ/">QQ</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Rails/">Rails</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/UEFI/">UEFI</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/VPS/">VPS</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Visual-Studio/">Visual Studio</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Windows/">Windows</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/npm/">npm</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/wine/">wine</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/zsh/">zsh</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/中文/">中文</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/云/">云</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/单片机/">单片机</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/反汇编/">反汇编</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/平板/">平板</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/插件/">插件</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/教务系统/">教务系统</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/東方Project/">東方Project</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/电幕/">电幕</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/系统维护/">系统维护</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/维基百科/">维基百科</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/编程/">编程</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/语文/">语文</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/输入法/">输入法</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/配置/">配置</a><span class="sidebar-module-list-count">1</span></li></ul>
  </div>




            </div>
        </div>
    </div>
    <footer class="blog-footer">
    <div class="container">
        <ol class="footer-list">
            
                <li>
                    <a href="/about/">
                        关于
                    </a>
                </li>
            
                <li>
                    <a href="https://vjudge1.github.io/kuso/sos/">
                        让我帮你百度一下
                    </a>
                </li>
            
        </ol>
        <ol class="social-media-list">
            
                <li>
                    <a href="mailto:vjudge404@gmail.com" data-toggle="tooltip" data-placement="top" title="Email">
                        <i class="fa fa-envelope"></i>
                    </a>
                </li>
            
            
            <li>
                <a href="https://github.com/vjudge1" data-toggle="tooltip" data-placement="top" title="GitHub">
                    <i class="fa fa-github"></i>
                </a>
            </li>
            
            
            
            
        </ol>
        <br class="clear" />
        <div class="footnote">
            
                <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a> by vjudge1
            
        </div>
    </div>
</footer>

    <div id="back-to-top" data-toggle="tooltip" data-placement="left" title="Back to top">
    <a href="javascript:;" title="Back to top">
        <div class="arrow"></div>
        <div class="stick"></div>
    </a>
</div>

    
<script>
    var disqus_shortname = 'vjudge1';
    
        var disqus_url = 'https://vjudge1.github.io/2016/10/07/programming-in-wikipedia/';
    
    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>



<script src="/js/script.js"></script>
<script src="/js/back-to-top.js"></script>

</body>
</html>
